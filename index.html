<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Voice</title>
    <script src="https://unpkg.com/wavesurfer.js"></script>

    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" />
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" href="./icons/logo.png" type="image/png" />
    <link
      href="https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css"
      rel="stylesheet"
    />
  </head>
  <body >
    <main></main>
    <footer>
      <ul>
        <li>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="icon icon-tabler icons-tabler-outline icon-tabler-clipboard-text"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path
              d="M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"
            />
            <path
              d="M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"
            />
            <path d="M9 12h6" />
            <path d="M9 16h6" />
          </svg>
        </li>

        <li>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="icon icon-tabler icons-tabler-outline icon-tabler-wave-sine"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path
              d="M21 12h-2c-.894 0 -1.662 -.857 -1.761 -2c-.296 -3.45 -.749 -6 -2.749 -6s-2.5 3.582 -2.5 8s-.5 8 -2.5 8s-2.452 -2.547 -2.749 -6c-.1 -1.147 -.867 -2 -1.763 -2h-2"
            />
          </svg>
        </li>
        <li>
          <nav>
            <div class="nav-content">
              <div class="toggle-btn">
                <i class="bx bx-plus"></i>
              </div>
              <span style="--i: 2" id="uploadBtn">
                <a href="#" data-file-type="audio"
                  ><i class="bx bx-cloud-upload"></i
                ></a>
              </span>

              <span style="--i: 3" id="recordBtn">
                <a href="#" data-file-type="video"
                  ><i class="bx bx-video"></i
                ></a>
              </span>
              <span style="--i: 4" id="refresh">
                <a href="#" data-file-type="webcam"
                  ><i class="bx bx-refresh"></i
                ></a>
              </span>
            </div>
          </nav>
        </li>
        <li>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="icon icon-tabler icons-tabler-outline icon-tabler-layout-grid"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path
              d="M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"
            />
            <path
              d="M14 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"
            />
            <path
              d="M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"
            />
            <path
              d="M14 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"
            />
          </svg>
        </li>
        <li class="theme">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="icon icon-tabler icons-tabler-outline icon-tabler-baseline-density-medium"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path d="M4 20h16" />
            <path d="M4 12h16" />
            <path d="M4 4h16" />
          </svg>
        </li>
      </ul>
    </footer>
    <div class="preview-container">
      <video id="livePreview" autoplay></video>
      <video id="recordedVideo" controls style="display: none"></video>
      <div class="audio-container" style="display: none">
        <div class="orginal-audio">
          <div id="preview-waveform">
            <div id="preview-time">0:00</div>
            <div id="preview-duration">0:00</div>
            <div id="preview-hover"></div>
          </div>
        </div>

        <div class="processed-audio">
          <span class="loader"></span>
        </div>
      </div>
      <div id="waveform">
        <div id="time">0:00</div>
        <div id="duration">0:00</div>
        <div id="hover"></div>
      </div>
    </div>
    <style>
      .parameters {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: -1;
      }
      .parameters ul {
        width: 100%;
        position: absolute;
        bottom: 80px;
        left: 0;
        display: grid;
        grid-template-columns: 1fr 1fr;
        list-style: none;
        gap: 10px;
        z-index: -1;
        padding: 10px 20px;
      }
      .parameters ul li {
        border-radius: 5px;
        height: 80px;

        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      .box-1 {
        background-color: rgba(101, 213, 97, 0.783);
      }
      .box-2 {
        background-color: rgba(108, 99, 106, 0.822);
      }
      .box-4 {
        background-color: rgba(44, 95, 191, 0.82);
      }
      .box-3 {
        background-color: rgba(160, 76, 234, 0.854);
      }
      .content {
        display: flex;
        gap: 10px;
        justify-content: center;
        align-items: center;
      }
    </style>
    <div class="parameters" style="display: none">
      <ul>
        <li class="box-1">
          <div class="content">
            <h1 class="pitch">0.00</h1>
            <b>Pitch</b>
          </div>
        </li>
        <li class="box-2">
          <div class="content">
            <h1 class="tempo">0.00</h1>
            <b>Tempo</b>
          </div>
        </li>
        <li class="box-3">
          <div class="content">
            <h1 class="amp">0.00</h1>
            <b>Amp</b>
          </div>
        </li>
        <li class="box-4">
          <div class="content">
            <h1 class="freq">0.00</h1>
            <b>Freq</b>
          </div>
        </li>
      </ul>
    </div>

    <input type="file" id="fileInput" accept="*" style="display: none" />
    <input type="file" id="videoInput" accept="video/*" style="display: none" />
    <input type="file" id="audioInput" accept="audio/*" style="display: none" />

    <script src="script.js"></script>
    <script src="./service-worker.js"></script>
  </body>
</html>
